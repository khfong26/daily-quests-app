<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Daily Quests - Local Test</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    /* Tailwind-like utility classes */
    .p-6 { padding: 1.5rem; }
    .mb-8 { margin-bottom: 2rem; }
    .mb-4 { margin-bottom: 1rem; }
    .mb-2 { margin-bottom: 0.5rem; }
    .text-4xl { font-size: 2.25rem; }
    .text-2xl { font-size: 1.5rem; }
    .text-xl { font-size: 1.25rem; }
    .text-sm { font-size: 0.875rem; }
    .font-bold { font-weight: bold; }
    .text-center { text-align: center; }
    .text-white { color: white; }
    .text-gray-400 { color: #9ca3af; }
    .text-yellow-400 { color: #fbbf24; }
    .text-green-400 { color: #4ade80; }
    .grid { display: grid; }
    .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    .gap-6 { gap: 1.5rem; }
    .bg-gray-800 { background-color: #1f2937; }
    .bg-gray-700 { background-color: #374151; }
    .rounded-xl { border-radius: 0.75rem; }
    .rounded-full { border-radius: 9999px; }
    .border { border-width: 1px; }
    .border-gray-700 { border-color: #374151; }
    .w-full { width: 100%; }
    .h-6 { height: 1.5rem; }
    .transition-all { transition: all 0.3s; }
    .duration-700 { transition-duration: 700ms; }
    .duration-500 { transition-duration: 500ms; }
    .duration-300 { transition-duration: 300ms; }
    .ease-out { transition-timing-function: ease-out; }
    .relative { position: relative; }
    .absolute { position: absolute; }
    .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
    .bg-white { background-color: white; }
    .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
    .from-green-400 { --tw-gradient-from: #4ade80; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(74, 222, 128, 0)); }
    .to-blue-500 { --tw-gradient-to: #3b82f6; }
    .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
    .transform { transform: translateX(var(--tw-translate-x, 0)) translateY(var(--tw-translate-y, 0)) rotate(var(--tw-rotate, 0)) skewX(var(--tw-skew-x, 0)) skewY(var(--tw-skew-y, 0)) scaleX(var(--tw-scale-x, 1)) scaleY(var(--tw-scale-y, 1)); }
    .scale-110 { --tw-scale-x: 1.1; --tw-scale-y: 1.1; }
    .flex { display: flex; }
    .justify-between { justify-content: space-between; }
    .min-h-screen { min-height: 100vh; }
    .overflow-hidden { overflow: hidden; }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: .5; }
    }
  </style>
</head>
<body class="min-h-screen">
  <div class="p-6 bg-gray-900 text-white min-h-screen">
    <h1 class="text-4xl font-bold mb-8 text-center" style="background: linear-gradient(to right, #60a5fa, #a855f7); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
      Daily Quests - Animation Demo
    </h1>

    <!-- Stats Panel -->
    <div class="grid grid-cols-3 gap-6 mb-8">
      <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 text-center">
        <p class="text-sm text-gray-400 mb-2">Rank</p>
        <p class="text-2xl font-bold rank-badge">
          <span class="rank-icon" id="rankIcon">‚öôÔ∏è</span>
          <span id="rankText">Iron 1</span>
        </p>
      </div>
      <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 text-center">
        <p class="text-sm text-gray-400 mb-2">Streak</p>
        <p class="text-2xl font-bold transition-all duration-500 text-white" id="streakDisplay">3</p>
      </div>
      <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 text-center">
        <p class="text-sm text-gray-400 mb-2">Combo</p>
        <p class="text-2xl font-bold transition-all duration-300 text-white" id="comboDisplay">x2</p>
      </div>
    </div>

    <!-- XP Bar -->
    <div class="mb-8 bg-gray-800 p-6 rounded-xl border border-gray-700">
      <div class="w-full bg-gray-700 rounded-full h-6 overflow-hidden">
        <div id="xpBar" class="bg-gradient-to-r from-green-400 to-blue-500 h-6 rounded-full transition-all duration-700 ease-out relative" style="width: 45%;">
          <div class="absolute inset-0 bg-white/20 rounded-full animate-pulse"></div>
        </div>
      </div>
      <div class="flex justify-between mt-3 text-sm">
        <span id="xpText">225 / 500 XP</span>
        <span class="text-gray-400">Next: Iron 2</span>
      </div>
    </div>

    <!-- Interactive Demo -->
    <div class="bg-gray-800 p-6 rounded-xl border border-gray-700 text-center">
      <h3 class="text-xl font-bold mb-4">Interactive Animation Demo</h3>
      <p class="text-sm text-gray-400 mb-4">Click the buttons to see animations in action!</p>
      
      <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
        <button onclick="completeQuest()" style="background: linear-gradient(to right, #10b981, #3b82f6); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          Complete Quest (+30 XP)
        </button>
        <button onclick="undoQuest()" style="background: linear-gradient(to right, #ef4444, #dc2626); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          Undo Quest (-20 XP)
        </button>
        <button onclick="triggerRankUp()" style="background: linear-gradient(to right, #f59e0b, #d97706); color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; font-weight: bold;">
          Simulate Rank Up
        </button>
      </div>
    </div>
  </div>

  <script>
    let xp = 225;
    let streak = 3;
    let combo = 2;
    let rank = "Iron";
    let level = 1;

    const rankIcons = {
      "Iron": "‚öôÔ∏è",
      "Bronze": "ü•â", 
      "Silver": "ü•à",
      "Gold": "ü•á"
    };

    function updateDisplay() {
      document.getElementById('rankIcon').textContent = rankIcons[rank];
      document.getElementById('rankText').textContent = `${rank} ${level}`;
      document.getElementById('streakDisplay').textContent = streak;
      document.getElementById('comboDisplay').textContent = `x${combo}`;
      
      const xpPerLevel = 500;
      const progress = (xp / xpPerLevel) * 100;
      document.getElementById('xpBar').style.width = `${Math.max(2, progress)}%`;
      document.getElementById('xpText').textContent = `${xp} / ${xpPerLevel} XP`;
    }

    function createFloatingText(text, isGain = true) {
      const element = document.createElement('div');
      element.className = isGain ? 'xp-gain' : 'xp-loss';
      element.textContent = text;
      element.style.position = 'fixed';
      element.style.top = '50%';
      element.style.left = '50%';
      element.style.transform = 'translate(-50%, -50%)';
      element.style.pointerEvents = 'none';
      element.style.fontWeight = 'bold';
      element.style.zIndex = '1000';
      
      document.body.appendChild(element);
      
      setTimeout(() => {
        if (element.parentNode) {
          element.parentNode.removeChild(element);
        }
      }, 2000);
    }

    function triggerXpBarShine() {
      const xpBar = document.getElementById('xpBar');
      xpBar.classList.add('xp-bar-shine');
      setTimeout(() => xpBar.classList.remove('xp-bar-shine'), 2000);
    }

    function triggerComboAnimation() {
      const combo = document.getElementById('comboDisplay');
      combo.classList.add('combo-boost', 'text-green-400');
      setTimeout(() => {
        combo.classList.remove('combo-boost', 'text-green-400');
      }, 600);
    }

    function triggerStreakAnimation() {
      const streak = document.getElementById('streakDisplay');
      streak.classList.add('streak-boost', 'text-yellow-400', 'streak-animation');
      setTimeout(() => {
        streak.classList.remove('streak-boost', 'text-yellow-400');
      }, 1000);
    }

    function showRankUpCelebration(newRank, newLevel) {
      const celebration = document.createElement('div');
      celebration.className = 'rank-up-celebration';
      celebration.innerHTML = `
        <div style="font-size: 4rem; margin-bottom: 1rem;">üéâ</div>
        <div style="font-size: 2.5rem; font-weight: bold; color: #fbbf24; margin-bottom: 0.5rem;">RANK UP!</div>
        <div style="font-size: 1.5rem;" class="rank-badge">
          <span class="rank-icon">${rankIcons[newRank]}</span>
          ${newRank} ${newLevel}
        </div>
      `;
      
      document.body.appendChild(celebration);
      
      setTimeout(() => {
        if (celebration.parentNode) {
          celebration.parentNode.removeChild(celebration);
        }
      }, 3000);
    }

    function completeQuest() {
      const gained = 30;
      xp += gained;
      combo++;
      
      createFloatingText(`+${gained} XP`, true);
      triggerXpBarShine();
      triggerComboAnimation();
      
      // Check for rank up
      if (xp >= 500 && rank === "Iron" && level === 1) {
        rank = "Iron";
        level = 2;
        xp = xp - 500;
        showRankUpCelebration(rank, level);
      }
      
      updateDisplay();
    }

    function undoQuest() {
      const lost = 20;
      xp = Math.max(0, xp - lost);
      combo = Math.max(1, combo - 1);
      
      createFloatingText(`-${lost} XP`, false);
      
      updateDisplay();
    }

    function triggerRankUp() {
      rank = "Bronze";
      level = 1;
      showRankUpCelebration(rank, level);
      triggerStreakAnimation();
      updateDisplay();
    }

    // Initialize display
    updateDisplay();
  </script>
</body>
</html>